(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7444:function(e,t,n){Promise.resolve().then(n.bind(n,4106))},4106:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var a=n(7437),l=n(2265);let o=["calm","hyped","reckless","focused","victorious","cursed"],s={master:1024,telegram:640,x:400,tiktok:200,instagram:320};function r(e){let{imagePaths:t}=e,[n,o]=(0,l.useState)([]),[r,u]=(0,l.useState)("Loading Pancho assets..."),[h,m]=(0,l.useState)("telegram"),[f,g]=(0,l.useState)(null),p=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(!t.length){u("No Pancho files found in public/assets/rotations.");return}let e=!0;return Promise.all(t.map(d)).then(t=>{if(!e)return;let n=t.filter(Boolean);if(o(n),!n.length){u("Could not load Pancho assets.");return}g(c(n)),u("".concat(n.length," Pancho assets loaded. Hit Generate to keep rolling."))}),()=>{e=!1}},[t]);let x=(0,l.useMemo)(()=>f&&n.find(e=>e.src===f.src)||null,[n,f]);return(0,l.useEffect)(()=>{f&&x&&p.current&&i(p.current.getContext("2d"),1024,f,x)},[f,x]),(0,a.jsxs)("main",{className:"shell",children:[(0,a.jsxs)("section",{className:"hero",children:[(0,a.jsx)("p",{className:"kicker",children:"Pancho Studio"}),(0,a.jsx)("h1",{children:"Roll Until It Hits."})]}),(0,a.jsxs)("section",{className:"forge",children:[(0,a.jsxs)("article",{className:"viewer",children:[(0,a.jsx)("canvas",{ref:p,width:"1024",height:"1024",className:"preview"}),(0,a.jsx)("p",{className:"status",children:r}),f?(0,a.jsxs)("p",{className:"traits",children:["Seed: ",(0,a.jsx)("strong",{children:f.seed})," | Palette: ",(0,a.jsx)("strong",{children:f.paletteTag})," | Mood: ",(0,a.jsx)("strong",{children:f.mood.toUpperCase()})]}):null]}),(0,a.jsxs)("article",{className:"controls",children:[(0,a.jsx)("label",{className:"label",htmlFor:"platform",children:"Download size"}),(0,a.jsxs)("select",{id:"platform",value:h,onChange:e=>m(e.target.value),children:[(0,a.jsx)("option",{value:"telegram",children:"Telegram (640x640)"}),(0,a.jsx)("option",{value:"x",children:"X.com (400x400)"}),(0,a.jsx)("option",{value:"tiktok",children:"TikTok (200x200)"}),(0,a.jsx)("option",{value:"instagram",children:"Instagram (320x320)"})]}),(0,a.jsx)("button",{className:"button primary",type:"button",onClick:function(){if(!n.length){u("Still loading assets. Try again in a second.");return}let e=c(n);g(e),u("Fresh roll ready: ".concat(e.paletteTag," | ").concat(e.mood.toUpperCase()))},children:"Generate New"}),(0,a.jsx)("button",{className:"button",type:"button",onClick:function(){if(!f||!x)return;let e=s[h]||s.master,t=document.createElement("canvas");t.width=e,t.height=e,i(t.getContext("2d"),e,f,x);let n=document.createElement("a");n.href=t.toDataURL("image/png"),n.download="pancho-".concat(f.seed,"-").concat(h,".png"),n.click(),u("Downloaded ".concat(h.toUpperCase()," version."))},disabled:!f,children:"Download This One"})]})]})]})}function c(e){let t=crypto.randomUUID().slice(0,8),n=u(t),a=Math.floor(360*n());return{seed:t,mood:h(o,n),src:h(e,n).src,baseHue:a,paletteTag:"".concat(a,"\xb0 Shift")}}function i(e,t,n,a){let l=u(n.seed+n.mood+n.baseHue);!function(e,t,n,a){let l=55+Math.floor(40*a()),o=38+Math.floor(30*a());e.fillStyle="hsl(".concat(n," ").concat(l,"% ").concat(o,"%)"),e.fillRect(0,0,t,t)}(e,t,n.baseHue,l);let o=Math.max(.25,Math.min(4,.72*t/Math.max(a.width,a.height))),s=a.width*o,r=a.height*o,c=(t-s)*(.5+(l()-.5)*.08),i=(t-r)*(.57+(l()-.5)*.08);e.save(),e.filter="drop-shadow(0 16px 22px rgba(0,0,0,0.35))",e.drawImage(a,c,i,s,r),e.restore()}function u(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return()=>(t+=t<<13,t^=t>>>7,t+=t<<3,t^=t>>>17,((t+=t<<5)>>>0)/4294967295)}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random;return e[Math.floor(t()*e.length)]}function d(e){return new Promise(t=>{let n=new Image;n.crossOrigin="anonymous",n.onload=()=>t(n),n.onerror=()=>t(null),n.src=e})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7444)}),_N_E=e.O()}]);